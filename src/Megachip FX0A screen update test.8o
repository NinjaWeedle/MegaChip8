# Megachip FX0A render test
# Tests for the undocumented Megachip fx0A screen update.
# This test should display a tiny "OK" in the top left corner.

: main
clear 
lores
i := positions
0xF2 0x65 #load register values
0x00 0x11 # Enable Megachip mode
0x03 0x07 # Set sprite width to 7
0x04 0x05 # Set sprite height to 5
i := colors
0x02 0x02 # Load 2 color palette at i
i := text
sprite v3 v4 3 
0xF0 0x0A
loop again
: text
 0x01 0x01 0x01 0x00 0x02 0x00 0x02
 0x01 0x00 0x01 0x00 0x02 0x02 0x00
 0x01 0x00 0x01 0x00 0x02 0x02 0x00
 0x01 0x00 0x01 0x00 0x02 0x00 0x02
 0x01 0x01 0x01 0x00 0x02 0x00 0x02
	
: positions
0x00
0x30
0x12

: colors
0xFF 0xFF 0x00 0x00 # Red
0xFF 0x00 0xFF 0x00 # Green