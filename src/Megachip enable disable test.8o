# Megachip Enable/Disable test by oxiti8
# Toggles megachip mode when any key is pressed.
# when you switch to megachip mode, a small "OK" should be displayed in the top left
# When switching back to normal mode, "NORMAL" ahould display in the bottom right in lores mode.

: main
clear 
lores
i := positions
0xF2 0x65 #load register values
  loop
i := normal
sprite v1 v2 12
0xF0 0x0A # wait for key
0x00 0x11 # Enable Megachip mode
0x03 0x07 # Set sprite width to 7
0x04 0x05 # Set sprite height to 5
i := colors
0x02 0x02 # Load 2 color palette at i
i := text
sprite v3 v4 3 
0xF0 0x0A # wait for key
0x00 0x10 # Disable megachip mode
 again
: text
 0x01 0x01 0x01 0x00 0x02 0x00 0x02
 0x01 0x00 0x01 0x00 0x02 0x02 0x00
 0x01 0x00 0x01 0x00 0x02 0x02 0x00
 0x01 0x00 0x01 0x00 0x02 0x00 0x02
 0x01 0x01 0x01 0x00 0x02 0x00 0x02
	
: positions
0x00
0x30
0x12



: colors
0xFF 0xFF 0x00 0x00 # Red
0xFF 0x00 0xFF 0x00 # Green
: normal
0xCE 0xAA 0xAE 0x00 0xDF 0x95 0x95 0x00 0xE8 0xA8 0xE8 0xAE